import{r as k,j as m,a as ce,y as A}from"./app-03bf7fb2.js";import{A as fe}from"./AuthenticatedLayout-86754332.js";import{D as he,F as ue,i as me}from"./index-5484236a.js";import{i as pe,a as T,m as x,y as o,D as ge,b as F,d as R,e as ve,f as xe,W as be,C as H,g as U,S as ye,V as q,h as Se,N as Y,j as G,r as V,k as we,l as Ce,n as Re,o as De,B as S,p as P,q as C,w as B,t as ke,u as L,v as Ee,x as Te,z as Ne,A as Me,R as Q,P as ee,E as Pe,F as K,G as Ie,H as je,I as ze,J as O,_ as M,K as Ae,L as We,M as Le,O as Oe,Q as Fe,T as He,U as Ge,X as Be,Y as _e,Z as Ue,$ as qe,a0 as te,c as Ve}from"./index-6c0d5ae6.js";import{C as Ke}from"./CustomDayView-3c5b98ac.js";import"./TextInput-ad7fe8bb.js";import{I as Ze}from"./InputLabel-e3fbe62e.js";import{S as $e}from"./react-select.esm-ae8c0d08.js";import"./Dropdown-4a4abfbc.js";import"./BaseLayout-97c1a3d9.js";import"./Header-a31ae6e7.js";import"./index-a4fe23a0.js";import"./index.es-c79b7abf.js";import"./AdapterDayjs-3ef5a2e4.js";import"./emotion-react.browser.esm-45e7cdef.js";import"./clsx-0839fdbe.js";var Je='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';pe(Je);class Xe extends Re{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?De(e)?["timed","allDay"]:["allDay"]:["timed"]}}const Ye=T({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function ie(l){let e=["fc-timegrid-slot","fc-timegrid-slot-label",l.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return o(Ee.Consumer,null,t=>{if(!l.isLabeled)return o("td",{className:e.join(" "),"data-time":l.isoTimeStr});let{dateEnv:i,options:s,viewApi:r}=t,n=s.slotLabelFormat==null?Ye:Array.isArray(s.slotLabelFormat)?T(s.slotLabelFormat[0]):T(s.slotLabelFormat),a={level:0,time:l.time,date:i.toDate(l.date),view:r,text:i.format(l.date,n)};return o(H,{elTag:"td",elClasses:e,elAttrs:{"data-time":l.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:Qe,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},d=>o("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},o(d,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function Qe(l){return l.text}class et extends S{render(){return this.props.slatMetas.map(e=>o("tr",{key:e.key},o(ie,Object.assign({},e))))}}const tt=T({week:"short"}),it=5;class st extends F{constructor(){super(...arguments),this.allDaySplitter=new Xe,this.headerElRef=R(),this.rootElRef=R(),this.scrollerElRef=R(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:i}=this.context,{dateProfile:s}=this.props,r=s.renderRange,a=ve(r.start,r.end)===1?xe(this.context,r.start,"week"):{};return i.weekNumbers&&e==="day"?o(be,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:r.start,defaultFormat:tt},d=>o("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},o(d,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:a}))):o("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},o("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:i}=this.context,s={text:t.allDayText,view:i};return o(H,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:s,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:rt,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},r=>o("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},o(r,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,i){let{context:s,props:r}=this,n=[],a=U(s.options);return e&&n.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(n.push({type:"body",key:"all-day",chunk:{content:t}}),n.push({type:"body",key:"all-day-divider",outerContent:o("tr",{role:"presentation",className:"fc-scrollgrid-section"},o("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),n.push({type:"body",key:"body",liquid:!0,expandRows:!!s.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:i}}),o(q,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},o(ye,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[{width:"shrink"}],sections:n}))}renderHScrollLayout(e,t,i,s,r,n,a){let d=this.context.pluginHooks.scrollGridImpl;if(!d)throw new Error("No ScrollGrid implementation");let{context:c,props:f}=this,g=!f.forPrint&&U(c.options),p=!f.forPrint&&Se(c.options),u=[];e&&u.push({type:"header",key:"header",isSticky:g,syncRowHeights:!0,chunks:[{key:"axis",rowContent:v=>o("tr",{role:"presentation"},this.renderHeadAxis("day",v.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(u.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:v=>o("tr",{role:"presentation"},this.renderTableRowAxis(v.rowSyncHeights[0]))},{key:"cols",content:t}]}),u.push({key:"all-day-divider",type:"body",outerContent:o("tr",{role:"presentation",className:"fc-scrollgrid-section"},o("td",{colSpan:2,className:"fc-timegrid-divider "+c.theme.getClass("tableCellShaded")}))}));let h=c.options.nowIndicator;return u.push({type:"body",key:"body",liquid:!0,expandRows:!!c.options.expandRows,chunks:[{key:"axis",content:v=>o("div",{className:"fc-timegrid-axis-chunk"},o("table",{"aria-hidden":!0,style:{height:v.expandRows?v.clientHeight:""}},v.tableColGroupNode,o("tbody",null,o(et,{slatMetas:n}))),o("div",{className:"fc-timegrid-now-indicator-container"},o(Y,{unit:h?"minute":"day"},y=>{let w=h&&a&&a.safeComputeTop(y);return typeof w=="number"?o(G,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:w},isAxis:!0,date:y}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),p&&u.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:V},{key:"cols",content:V}]}),o(q,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:c.viewSpec},o(d,{liquid:!f.isHeightAuto&&!f.forPrint,forPrint:f.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:r}]}],sections:u}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=it),{dayMaxEvents:e,dayMaxEventRows:t}}}function rt(l){return l.text}class lt{constructor(e,t,i){this.positions=e,this.dateProfile=t,this.slotDuration=i}safeComputeTop(e){let{dateProfile:t}=this;if(Pe(t.currentRange,e)){let i=K(e),s=e.valueOf()-i.valueOf();if(s>=C(t.slotMinTime)&&s<C(t.slotMaxTime))return this.computeTimeTop(P(s))}return null}computeDateTop(e,t){return t||(t=K(e)),this.computeTimeTop(P(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:i}=this,s=t.els.length,r=(e.milliseconds-C(i.slotMinTime))/C(this.slotDuration),n,a;return r=Math.max(0,r),r=Math.min(s,r),n=Math.floor(r),n=Math.min(n,s-1),a=r-n,t.tops[n]+t.getHeight(n)*a}}class nt extends S{render(){let{props:e,context:t}=this,{options:i}=t,{slatElRefs:s}=e;return o("tbody",null,e.slatMetas.map((r,n)=>{let a={time:r.time,date:t.dateEnv.toDate(r.date),view:t.viewApi};return o("tr",{key:r.key,ref:s.createRef(r.key)},e.axis&&o(ie,Object.assign({},r)),o(H,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!r.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":r.isoTimeStr},renderProps:a,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))}))}}class ot extends S{constructor(){super(...arguments),this.rootElRef=R(),this.slatElRefs=new Q}render(){let{props:e,context:t}=this;return o("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},o("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,o(nt,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new lt(new ee(this.rootElRef.current,at(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function at(l,e){return e.map(t=>l[t.key])}function E(l,e){let t=[],i;for(i=0;i<e;i+=1)t.push([]);if(l)for(i=0;i<l.length;i+=1)t[l[i].col].push(l[i]);return t}function Z(l,e){let t=[];if(l){for(let i=0;i<e;i+=1)t[i]={affectedInstances:l.affectedInstances,isEvent:l.isEvent,segs:[]};for(let i of l.segs)t[i.col].segs.push(i)}else for(let i=0;i<e;i+=1)t[i]=null;return t}class dt extends S{render(){let{props:e}=this;return o(He,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>re(e.hiddenSegs,e),defaultGenerator:ct,forceTimed:!0},t=>o(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function ct(l){return l.shortText}function ft(l,e,t){let i=new _e;e!=null&&(i.strictOrder=e),t!=null&&(i.maxStackCnt=t);let s=i.addSegs(l),r=Be(s),n=ht(i);return n=gt(n,1),{segRects:vt(n),hiddenGroups:r}}function ht(l){const{entriesByLevel:e}=l,t=_((i,s)=>i+":"+s,(i,s)=>{let r=pt(l,i,s),n=$(r,t),a=e[i][s];return[Object.assign(Object.assign({},a),{nextLevelNodes:n[0]}),a.thickness+n[1]]});return $(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function $(l,e){if(!l)return[[],0];let{level:t,lateralStart:i,lateralEnd:s}=l,r=i,n=[];for(;r<s;)n.push(e(t,r)),r+=1;return n.sort(ut),[n.map(mt),n[0][1]]}function ut(l,e){return e[1]-l[1]}function mt(l){return l[0]}function pt(l,e,t){let{levelCoords:i,entriesByLevel:s}=l,r=s[e][t],n=i[e]+r.thickness,a=i.length,d=e;for(;d<a&&i[d]<n;d+=1);for(;d<a;d+=1){let c=s[d],f,g=Ue(c,r.span.start,qe),p=g[0]+g[1],u=p;for(;(f=c[u])&&f.span.start<r.span.end;)u+=1;if(p<u)return{level:d,lateralStart:p,lateralEnd:u}}return null}function gt(l,e){const t=_((i,s,r)=>te(i),(i,s,r)=>{let{nextLevelNodes:n,thickness:a}=i,d=a+r,c=a/d,f,g=[];if(!n.length)f=e;else for(let u of n)if(f===void 0){let h=t(u,s,d);f=h[0],g.push(h[1])}else{let h=t(u,f,0);g.push(h[1])}let p=(f-s)*c;return[f-p,Object.assign(Object.assign({},i),{thickness:p,nextLevelNodes:g})]});return l.map(i=>t(i,0,0)[1])}function vt(l){let e=[];const t=_((s,r,n)=>te(s),(s,r,n)=>{let a=Object.assign(Object.assign({},s),{levelCoord:r,stackDepth:n,stackForward:0});return e.push(a),a.stackForward=i(s.nextLevelNodes,r+s.thickness,n+1)+1});function i(s,r,n){let a=0;for(let d of s)a=Math.max(t(d,r,n),a);return a}return i(l,0,0),e}function _(l,e){const t={};return(...i)=>{let s=l(...i);return s in t?t[s]:t[s]=e(...i)}}function J(l,e,t=null,i=0){let s=[];if(t)for(let r=0;r<l.length;r+=1){let n=l[r],a=t.computeDateTop(n.start,e),d=Math.max(a+(i||0),t.computeDateTop(n.end,e));s.push({start:Math.round(a),end:Math.round(d)})}return s}function xt(l,e,t,i){let s=[],r=[];for(let c=0;c<l.length;c+=1){let f=e[c];f?s.push({index:c,thickness:1,span:f}):r.push(l[c])}let{segRects:n,hiddenGroups:a}=ft(s,t,i),d=[];for(let c of n)d.push({seg:l[c.index],rect:c});for(let c of r)d.push({seg:c,rect:null});return{segPlacements:d,hiddenGroups:a}}const bt=T({hour:"numeric",minute:"2-digit",meridiem:!1});class se extends S{render(){return o(Ge,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:bt}))}}class yt extends S{constructor(){super(...arguments),this.sortEventSegs=x(Ie)}render(){let{props:e,context:t}=this,{options:i}=t,s=i.selectMirror,r=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||s&&e.dateSelectionSegs||[],n=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},a=this.sortEventSegs(e.fgEventSegs,i.eventOrder);return o(ze,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},d=>o("div",{className:"fc-timegrid-col-frame"},o("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),o("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(a,n,!1,!1,!1)),o("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(r,{},!!e.eventDrag,!!e.eventResize,!!s,"mirror")),o("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),je(i)&&o(d,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,i,s,r,n){let{props:a}=this;return a.forPrint?re(e,a):this.renderPositionedFgSegs(e,t,i,s,r,n)}renderPositionedFgSegs(e,t,i,s,r,n){let{eventMaxStack:a,eventShortHeight:d,eventOrderStrict:c,eventMinHeight:f}=this.context.options,{date:g,slatCoords:p,eventSelection:u,todayRange:h,nowDate:v}=this.props,y=i||s||r,w=J(e,g,p,f),{segPlacements:I,hiddenGroups:j}=xt(e,w,c,a);return o(M,null,this.renderHiddenGroups(j,e),I.map(N=>{let{seg:D,rect:b}=N,z=D.eventRange.instance.instanceId,le=y||!!(!t[z]&&b),ne=W(b&&b.span),oe=!y&&b?this.computeSegHStyle(b):{left:0,right:0},ae=!!b&&b.stackForward>0,de=!!b&&b.span.end-b.span.start<d;return o("div",{className:"fc-timegrid-event-harness"+(ae?" fc-timegrid-event-harness-inset":""),key:n||z,style:Object.assign(Object.assign({visibility:le?"":"hidden"},ne),oe)},o(se,Object.assign({seg:D,isDragging:i,isResizing:s,isDateSelecting:r,isSelected:z===u,isShort:de},O(D,h,v))))}))}renderHiddenGroups(e,t){let{extraDateSpan:i,dateProfile:s,todayRange:r,nowDate:n,eventSelection:a,eventDrag:d,eventResize:c}=this.props;return o(M,null,e.map(f=>{let g=W(f.span),p=St(f.entries,t);return o(dt,{key:Ae(We(p)),hiddenSegs:p,top:g.top,bottom:g.bottom,extraDateSpan:i,dateProfile:s,todayRange:r,nowDate:n,eventSelection:a,eventDrag:d,eventResize:c})}))}renderFillSegs(e,t){let{props:i,context:s}=this,n=J(e,i.date,i.slatCoords,s.options.eventMinHeight).map((a,d)=>{let c=e[d];return o("div",{key:Fe(c.eventRange),className:"fc-timegrid-bg-harness",style:W(a)},t==="bg-event"?o(Le,Object.assign({seg:c},O(c,i.todayRange,i.nowDate))):Oe(t))});return o(M,null,n)}renderNowIndicator(e){let{slatCoords:t,date:i}=this.props;return t?e.map((s,r)=>o(G,{key:r,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(s.start,i)},isAxis:!1,date:i})):null}computeSegHStyle(e){let{isRtl:t,options:i}=this.context,s=i.slotEventOverlap,r=e.levelCoord,n=e.levelCoord+e.thickness,a,d;s&&(n=Math.min(1,r+(n-r)*2)),t?(a=1-n,d=r):(a=r,d=1-n);let c={zIndex:e.stackDepth+1,left:a*100+"%",right:d*100+"%"};return s&&!e.stackForward&&(c[t?"marginLeft":"marginRight"]=10*2),c}}function re(l,{todayRange:e,nowDate:t,eventSelection:i,eventDrag:s,eventResize:r}){let n=(s?s.affectedInstances:null)||(r?r.affectedInstances:null)||{};return o(M,null,l.map(a=>{let d=a.eventRange.instance.instanceId;return o("div",{key:d,style:{visibility:n[d]?"hidden":""}},o(se,Object.assign({seg:a,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:d===i,isShort:!1},O(a,e,t))))}))}function W(l){return l?{top:l.start,bottom:-l.end}:{top:"",bottom:""}}function St(l,e){return l.map(t=>e[t.index])}class wt extends S{constructor(){super(...arguments),this.splitFgEventSegs=x(E),this.splitBgEventSegs=x(E),this.splitBusinessHourSegs=x(E),this.splitNowIndicatorSegs=x(E),this.splitDateSelectionSegs=x(E),this.splitEventDrag=x(Z),this.splitEventResize=x(Z),this.rootElRef=R(),this.cellElRefs=new Q}render(){let{props:e,context:t}=this,i=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),s=e.cells.length,r=this.splitFgEventSegs(e.fgEventSegs,s),n=this.splitBgEventSegs(e.bgEventSegs,s),a=this.splitBusinessHourSegs(e.businessHourSegs,s),d=this.splitNowIndicatorSegs(e.nowIndicatorSegs,s),c=this.splitDateSelectionSegs(e.dateSelectionSegs,s),f=this.splitEventDrag(e.eventDrag,s),g=this.splitEventResize(e.eventResize,s);return o("div",{className:"fc-timegrid-cols",ref:this.rootElRef},o("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,o("tbody",{role:"presentation"},o("tr",{role:"row"},e.axis&&o("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},o("div",{className:"fc-timegrid-col-frame"},o("div",{className:"fc-timegrid-now-indicator-container"},typeof i=="number"&&o(G,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:e.nowDate})))),e.cells.map((p,u)=>o(yt,{key:p.key,elRef:this.cellElRefs.createRef(p.key),dateProfile:e.dateProfile,date:p.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:p.extraRenderProps,extraDataAttrs:p.extraDataAttrs,extraClassNames:p.extraClassNames,extraDateSpan:p.extraDateSpan,fgEventSegs:r[u],bgEventSegs:n[u],businessHourSegs:a[u],nowIndicatorSegs:d[u],dateSelectionSegs:c[u],eventDrag:f[u],eventResize:g[u],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new ee(this.rootElRef.current,Ct(this.cellElRefs.currentMap,e.cells),!0,!1))}}function Ct(l,e){return e.map(t=>l[t.key])}class Rt extends F{constructor(){super(...arguments),this.processSlotOptions=x(Dt),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:i}=this.state;if(t&&i){if(e.time){let s=i.computeTimeTop(e.time);s=Math.ceil(s),s&&(s+=1),t(s)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return o("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},o(ot,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),o(wt,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:i,options:s}=this.context,{colCoords:r}=this,{dateProfile:n}=this.props,{slatCoords:a}=this.state,{snapDuration:d,snapsPerSlot:c}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),f=r.leftToIndex(e),g=a.positions.topToIndex(t);if(f!=null&&g!=null){let p=this.props.cells[f],u=a.positions.tops[g],h=a.positions.getHeight(g),v=(t-u)/h,y=Math.floor(v*c),w=g*c+y,I=this.props.cells[f].date,j=L(n.slotMinTime,Te(d,w)),N=i.add(I,j),D=i.add(N,d);return{dateProfile:n,dateSpan:Object.assign({range:{start:N,end:D},allDay:!1},p.extraDateSpan),dayEl:r.els[f],rect:{left:r.lefts[f],right:r.rights[f],top:u,bottom:u+h},layer:0}}return null}}function Dt(l,e){let t=e||l,i=B(l,t);return i===null&&(t=l,i=1),{snapDuration:t,snapsPerSlot:i}}class kt extends Ne{sliceRange(e,t){let i=[];for(let s=0;s<t.length;s+=1){let r=Me(e,t[s]);r&&i.push({start:r.start,end:r.end,isStart:r.start.valueOf()===e.start.valueOf(),isEnd:r.end.valueOf()===e.end.valueOf(),col:s})}return i}}class Et extends F{constructor(){super(...arguments),this.buildDayRanges=x(Tt),this.slicer=new kt,this.timeColsRef=R()}render(){let{props:e,context:t}=this,{dateProfile:i,dayTableModel:s}=e,{nowIndicator:r,nextDayThreshold:n}=t.options,a=this.buildDayRanges(s,i,t.dateEnv);return o(Y,{unit:r?"minute":"day"},(d,c)=>o(Rt,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,i,null,t,a),{forPrint:e.forPrint,axis:e.axis,dateProfile:i,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:s.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:d,nowIndicatorSegs:r&&this.slicer.sliceNowDate(d,i,n,t,a),todayRange:c,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function Tt(l,e,t){let i=[];for(let s of l.headerDates)i.push({start:t.add(s,e.slotMinTime),end:t.add(s,e.slotMaxTime)});return i}const X=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function Nt(l,e,t,i,s){let r=new Date(0),n=l,a=P(0),d=t||Mt(i),c=[];for(;C(n)<C(e);){let f=s.add(r,n),g=B(a,d)!==null;c.push({date:f,time:n,key:f.toISOString(),isoTimeStr:ke(f),isLabeled:g}),n=L(n,i),a=L(a,i)}return c}function Mt(l){let e,t,i;for(e=X.length-1;e>=0;e-=1)if(t=P(X[e]),i=B(t,l),i!==null&&i>1)return t;return l}class Pt extends st{constructor(){super(...arguments),this.buildTimeColsModel=x(It),this.buildSlatMetas=x(Nt)}render(){let{options:e,dateEnv:t,dateProfileGenerator:i}=this.context,{props:s}=this,{dateProfile:r}=s,n=this.buildTimeColsModel(r,i),a=this.allDaySplitter.splitProps(s),d=this.buildSlatMetas(r.slotMinTime,r.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:c}=e,f=!c,g=c,p=e.dayHeaders&&o(ge,{dates:n.headerDates,dateProfile:r,datesRepDistinctDays:!0,renderIntro:f?this.renderHeadAxis:null}),u=e.allDaySlot!==!1&&(v=>o(he,Object.assign({},a.allDay,{dateProfile:r,dayTableModel:n,nextDayThreshold:e.nextDayThreshold,tableMinWidth:v.tableMinWidth,colGroupNode:v.tableColGroupNode,renderRowIntro:f?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:v.clientWidth,clientHeight:v.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),h=v=>o(Et,Object.assign({},a.timed,{dayTableModel:n,dateProfile:r,axis:f,slotDuration:e.slotDuration,slatMetas:d,forPrint:s.forPrint,tableColGroupNode:v.tableColGroupNode,tableMinWidth:v.tableMinWidth,clientWidth:v.clientWidth,clientHeight:v.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:v.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return g?this.renderHScrollLayout(p,u,h,n.colCnt,c,d,this.state.slatCoords):this.renderSimpleLayout(p,u,h)}}function It(l,e){let t=new we(l.renderRange,e);return new Ce(t,!1)}const jt={allDaySlot:Boolean};var zt=Ve({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:jt,views:{timeGrid:{component:Pt,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});function Xt({auth:l,events:e,seances:t,cours:i,inscriptions:s}){k.useState({});const[r,n]=k.useState(e);k.useState("month");const[a,d]=k.useState("");s.map(h=>({value:h.id,label:h.nom}));const c=i.map(h=>({value:h.id,label:h.nom})),[f,g]=k.useState(!0),p=h=>{h.preventDefault(),A.post("/inscription",{cours_id:a,user_id:l.user.id})},u=h=>{A.post("/desinscription",{cours_id:h.id})};return m.jsxs(fe,{cours:s,showCalendarState:f,modifyCalendarState:g,children:[m.jsx(ce,{title:"Dashboard"}),m.jsx("div",{className:"flex flex-col overflow-hidden h-full w-full",children:f?m.jsx(m.Fragment,{children:m.jsx("div",{className:"flex flex-col h-full w-full bg-white rounded-3xl p-5 overflow-hidden ",children:m.jsx(ue,{plugins:[me,zt,Ke],headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,day"},initialView:"dayGridMonth",timeZone:"UTC+1",height:"100%",firstDay:1,locale:"fr",buttonText:{today:"Aujourd'hui",month:"Mois",week:"Semaine",day:"Jour"},events:r})})}):m.jsx(m.Fragment,{children:m.jsxs("div",{className:"bg-white p-4 flex flex-col space-y-10",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-18px font-bold text-#575962",children:"Mes cours"}),m.jsx("div",{className:"flex flex-col space-y-4 m-4",children:m.jsx("ul",{children:s.map(h=>m.jsxs("li",{className:"flex flex-row space-x-4",children:[m.jsx("div",{className:"w-8 h-8 bg-primRed text-white rounded-full flex align-middle items-center justify-center",style:{backgroundColor:"#A81C7D"},children:h.ue[0]}),m.jsxs("div",{className:"flex flex-col space-y-1",children:[m.jsxs("div",{className:"flex space-x-2",children:[m.jsx("h1",{className:"text-18px font-bold text-#575962",children:h.nom}),m.jsxs("h1",{className:"text-14px font-medium text-#575962",children:["- (",h.prof,")"]})]}),m.jsx("h1",{className:"text-14px font-thin italic text-#575962",children:h.ue})]}),m.jsx("div",{className:"flex flex-col space-y-1",children:m.jsx("button",{className:"px-8 h-8 bg-primBlue text-primRed rounded-full font-bold",onClick:()=>{u(h)},children:"Se désinscrire"})})]},h.id))})})]}),m.jsxs("form",{onSubmit:p,className:"flex flex-col space-y-4",children:[m.jsx("h1",{className:"text-18px font-bold text-#575962",children:"S'inscrire à un cours"}),m.jsx(Ze,{value:"Entrer le nom d'un cours"}),m.jsx($e,{name:"coursSelector",id:"coursSelector",options:c,onChange:h=>{d(h.value)}}),m.jsx("button",{type:"submit",className:"bg-primBlue hover:bg-primRed text-white font-bold py-2 px-4 rounded",children:"Valider l'inscription'"})]}),m.jsx("h1",{className:"text-18px font-bold text-#575962",children:"Retourner au calendrier"}),m.jsx("button",{className:"w-72 h-10 bg-primRed rounded-lg text-white text-18px font-bold",onClick:()=>{A.get("/dashboard")},children:"Afficher le calendrier"})]})})})]})}export{Xt as default};
